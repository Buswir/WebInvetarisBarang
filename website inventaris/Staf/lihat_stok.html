<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lihat Stok - Sistem Inventaris</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <style>
      body {
        font-size: 0.875rem;
        background-color: #f8f9fa;
      }
      .sidebar {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        z-index: 100;
        padding: 48px 0 0;
        box-shadow: inset -1px 0 0 rgba(0, 0, 0, 0.1);
      }
      @media (max-width: 767.98px) {
        .sidebar {
          top: 56px;
        }
      }
      .sidebar-sticky {
        position: relative;
        top: 0;
        height: calc(100vh - 48px);
        padding-top: 0.5rem;
        overflow-x: hidden;
        overflow-y: auto;
      }
      .nav-link {
        font-weight: 500;
        color: #333;
      }
      .nav-link .bi {
        margin-right: 8px;
        color: #727272;
      }
      .nav-link.active {
        color: #0d6efd;
      }
      .nav-link:hover .bi,
      .nav-link.active .bi {
        color: inherit;
      }
      .main-content {
        padding-top: 24px;
      }
    </style>
  </head>
  <body>
    <header
      class="navbar navbar-dark sticky-top bg-primary flex-md-nowrap p-0 shadow"
    >
      <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6" href="#"
        >Sistem Inventaris</a
      ><button
        class="navbar-toggler position-absolute d-md-none collapsed"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#sidebarMenu"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="navbar-nav">
        <div class="nav-item text-nowrap">
          <a class="nav-link px-3" href="../index.html">Logout</a>
        </div>
      </div>
    </header>
    <div class="container-fluid">
      <div class="row">
        <nav
          id="sidebarMenu"
          class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"
        >
          <div class="position-sticky pt-3 sidebar-sticky">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="dashboard.html"
                  ><i class="bi bi-speedometer2"></i> Dashboard</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#"
                  ><i class="bi bi-boxes"></i> Lihat Stok</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="tambah_stok.html"
                  ><i class="bi bi-box-arrow-in-down"></i> Tambah Stok</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="kurangi_stok.html"
                  ><i class="bi bi-box-arrow-up"></i> Kurangi Stok</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="buat order.html"
                  ><i class="bi bi-truck"></i> Buat Order ke Supplier</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="riwayat.html"
                  ><i class="bi bi-clock-history"></i> Riwayat Stok</a
                >
              </li>
            </ul>
            <h6
              class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted text-uppercase"
            >
              <span>Pengguna</span>
            </h6>
            <ul class="nav flex-column mb-2">
              <li class="nav-item">
                <a class="nav-link" href="update_profil.html"
                  ><i class="bi bi-person-circle"></i> Update Profil</a
                >
              </li>
            </ul>
          </div>
        </nav>

        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 main-content">
          <div
            class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
          >
            <h1 class="h2">Daftar Stok Barang</h1>
            <div class="btn-toolbar mb-2 mb-md-0">
              <a href="tambah_stok.html" class="btn btn-sm btn-outline-primary"
                ><i class="bi bi-plus-lg"></i> Tambah Barang Baru</a
              >
            </div>
          </div>
          <div class="row g-3 mb-3">
            <div class="col-md-5">
              <input type="text" class="form-control" placeholder="Cari..." />
            </div>
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Semua Kategori</option>
              </select>
            </div>
            <div class="col-md-3">
              <select class="form-select">
                <option selected>Semua Status</option>
              </select>
            </div>
            <div class="col-md-1">
              <button class="btn btn-primary w-100">Cari</button>
            </div>
          </div>

          <div class="table-responsive">
            <table class="table table-striped table-hover table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>#</th>
                  <th>Kode</th>
                  <th>Nama Barang</th>
                  <th>Kategori</th>
                  <th>Jumlah Stok</th>
                  <th>Status</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>BRG-001</td>
                  <td>Indomie Goreng</td>
                  <td>Makanan Instan</td>
                  <td>150</td>
                  <td><span class="badge text-bg-success">Aman</span></td>
                  <td>
                    <button
                      type="button"
                      class="btn btn-info btn-sm"
                      title="Detail"
                      data-bs-toggle="modal"
                      data-bs-target="#detailModal"
                      data-kode="BRG-001"
                      data-nama="Indomie Goreng"
                      data-kategori="Makanan Instan"
                      data-pemasok="PT. Indofood Sukses Makmur"
                      data-stok="150"
                      data-stok-min="20"
                      data-satuan="pcs"
                      data-kadaluarsa="2026-12-31"
                      data-deskripsi="Indomie Goreng rasa original, enaknya ga ada duanya."
                    >
                      <i class="bi bi-eye"></i>
                    </button>
                    <a
                      href="edit.html"
                      class="btn btn-warning btn-sm"
                      title="Edit"
                      ><i class="bi bi-pencil"></i
                    ></a>
                    <button
                      type="button"
                      class="btn btn-danger btn-sm"
                      title="Hapus"
                      data-bs-toggle="modal"
                      data-bs-target="#deleteModal"
                      data-nama-barang="Indomie Goreng"
                    >
                      <i class="bi bi-trash"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </main>
      </div>
    </div>

    <div
      class="modal fade"
      id="detailModal"
      tabindex="-1"
      aria-labelledby="detailModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="detailModalLabel">
              Detail Barang
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-6">
                <dl class="row">
                  <dt class="col-sm-5">Kode Barang</dt>
                  <dd class="col-sm-7" id="detailKode"></dd>
                  <dt class="col-sm-5">Nama Barang</dt>
                  <dd class="col-sm-7" id="detailNama"></dd>
                  <dt class="col-sm-5">Kategori</dt>
                  <dd class="col-sm-7" id="detailKategori"></dd>
                  <dt class="col-sm-5">Pemasok</dt>
                  <dd class="col-sm-7" id="detailPemasok"></dd>
                </dl>
              </div>
              <div class="col-md-6">
                <dl class="row">
                  <dt class="col-sm-5">Jumlah Stok</dt>
                  <dd class="col-sm-7" id="detailStok"></dd>
                  <dt class="col-sm-5">Stok Minimum</dt>
                  <dd class="col-sm-7" id="detailStokMin"></dd>
                  <dt class="col-sm-5">Satuan</dt>
                  <dd class="col-sm-7" id="detailSatuan"></dd>
                  <dt class="col-sm-5">Tgl Kadaluarsa</dt>
                  <dd class="col-sm-7" id="detailKadaluarsa"></dd>
                </dl>
              </div>
            </div>
            <hr />
            <h6>Deskripsi</h6>
            <p id="detailDeskripsi"></p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Tutup
            </button>
            <a href="edit.html" class="btn btn-warning"
              ><i class="bi bi-pencil"></i> Edit Barang Ini</a
            >
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="deleteModal"
      tabindex="-1"
      aria-labelledby="deleteModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="deleteModalLabel">
              Konfirmasi Hapus
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Batal</button
            ><button type="button" class="btn btn-danger">Ya, Hapus</button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // JavaScript untuk Modal Detail
      const detailModal = document.getElementById("detailModal");
      if (detailModal) {
        detailModal.addEventListener("show.bs.modal", (event) => {
          const button = event.relatedTarget;
          // Ekstrak semua data dari atribut data-*
          const kode = button.getAttribute("data-kode");
          const nama = button.getAttribute("data-nama");
          const kategori = button.getAttribute("data-kategori");
          const pemasok = button.getAttribute("data-pemasok");
          const stok = button.getAttribute("data-stok");
          const stokMin = button.getAttribute("data-stok-min");
          const satuan = button.getAttribute("data-satuan");
          const kadaluarsa = button.getAttribute("data-kadaluarsa");
          const deskripsi = button.getAttribute("data-deskripsi");

          // Update konten modal dengan data yang diekstrak
          detailModal.querySelector("#detailModalLabel").textContent =
            "Detail Barang: " + nama;
          detailModal.querySelector("#detailKode").textContent = ": " + kode;
          detailModal.querySelector("#detailNama").textContent = ": " + nama;
          detailModal.querySelector("#detailKategori").textContent =
            ": " + kategori;
          detailModal.querySelector("#detailPemasok").textContent =
            ": " + pemasok;
          detailModal.querySelector("#detailStok").textContent = ": " + stok;
          detailModal.querySelector("#detailStokMin").textContent =
            ": " + stokMin;
          detailModal.querySelector("#detailSatuan").textContent =
            ": " + satuan;
          detailModal.querySelector("#detailKadaluarsa").textContent =
            ": " + (kadaluarsa || "-"); // Tampilkan '-' jika kosong
          detailModal.querySelector("#detailDeskripsi").textContent =
            deskripsi || "Tidak ada deskripsi."; // Tampilkan default jika kosong
        });
      }

      // JavaScript untuk Modal Delete (Sama seperti sebelumnya, tidak ada perubahan)
      const deleteModal = document.getElementById("deleteModal");
      if (deleteModal) {
        deleteModal.addEventListener("show.bs.modal", (event) => {
          const button = event.relatedTarget;
          const namaBarang = button.getAttribute("data-nama-barang");
          const modalBody = deleteModal.querySelector(".modal-body");
          modalBody.textContent = `Apakah Anda yakin ingin menghapus barang "${namaBarang}"? Tindakan ini tidak dapat dibatalkan.`;
        });
      }
    </script>
  </body>
</html>
